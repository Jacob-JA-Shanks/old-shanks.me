<hy-drawer
  class="{% if page.cover %}cover{% endif %}"
  align="left"
  threshold="10"
  touch-events
  prevent-default
>
  <header id="_sidebar" class="sidebar" role="banner">
    {% if image.background %}
      {% capture bg_style %}style="background:{{ image.background }}"{% endcapture %}
      {% capture bg_class %}class="sidebar-bg {% if image.overlay %}sidebar-overlay{% endif %}"{% endcapture %}
    {% else %}
      {% assign prtcl_color = "black" %}
      {% capture prtcl_style %}style="background-color:{{prtcl_color}};"{% endcapture %}
      {% capture prtcl_class %}id="particles-js"{% endcapture %}
      {% assign bg_color = "black" %}
      {% capture bg_style %}style="background-color:{{bg_color}};position: absolute;width: 100%;height: 100%;"{% endcapture %}
      {% capture bg_class %}id="sidebar-bg sidebar-overlay"{% endcapture %}
    {% endif %}
    <div {{bg_class}} {{bg_style}}>
      <div {{prtcl_class}} {{prtcl_style}}></div>
    </div>

    <div class="sidebar-sticky">
      <div class="sidebar-about">
        {% if site.logo %}
          <a class="no-hover" href="{{ '/' | relative_url }}" tabindex="-1">
            <img src="{{ site.logo | relative_url }}" class="avatar" alt="{{ site.short_title | default:site.title }}" data-ignore />
          </a>
        {% endif %}
        <h2 class="h1"><a href="{{ '/' | relative_url }}">{{ site.short_title | default:site.title }}</a></h2>
        {% assign text = site.tagline | default:site.description %}
        {% if text %}
          <p class="{% if text.size > 100 %}fine{% endif %}">
            {{ text | markdownify | replace:'<p>','' | replace:'</p>','' }}
          </p>
        {% endif %}
      </div>

      <nav class="sidebar-nav heading" role="navigation">
        {% include body/nav.html %}
      </nav>

      {% assign author = site.data.authors.first[1] | default:site.author %}

      <div class="sidebar-social">
        {% include components/social.html author=author %}
      </div>
    </div>
  </header>
</hy-drawer>
<hr class="sr-only" hidden />
